{
  "name": "n8n-sports-predictor-web",
  "version": "1.0.0",
  "description": "Web dashboard for n8n sports predictions",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "node --watch server.js",
    "ingest:nba:backfill": "node src/ingest/jobs/backfillNbaHistory.js",
    "ingest:nba:qa": "node src/ingest/jobs/qaNbaSummary.js",
    "ingest:nba:odds-snapshot": "node src/ingest/jobs/snapshotNbaOdds.js",
    "ingest:nba:odds-backfill": "node src/ingest/jobs/backfillNbaOddsHistory.js",
    "ingest:nba:oddsharvester-import": "node src/ingest/jobs/importOddsHarvesterNba.js",
    "ingest:nba:oddsharvester-batch": "node scripts/import_oddsharvester_batch.js",
    "ingest:nba:oddsharvester-validate": "node scripts/validate_oddsharvester_odds_coverage.js",
    "dataset:nba:export": "node src/ingest/jobs/exportNbaTrainingDataset.js",
    "dataset:nba:export:event": "node src/ingest/jobs/exportNbaEventTrainingDataset.js --start 2021-10-01 --end 2025-06-30 --out data/nba_event_training_dataset.csv",
    "dataset:nba:enrich:event": "node scripts/build_nba_event_features.js --input data/nba_event_training_dataset.csv --out data/nba_event_training_features.csv",
    "dataset:nba:enrich:event:v2": "node scripts/build_nba_event_features_v2.js --input data/nba_event_training_dataset.csv --out data/nba_event_training_features_v2.csv",
    "dataset:nba:enrich:event:v3": "node scripts/build_nba_event_features_v3.js --input data/nba_event_training_features_v2.csv --out data/nba_event_training_features_v3.csv",
    "dataset:nba:enrich:event:v4": "node scripts/build_nba_event_features_v4.js --input data/nba_event_training_dataset.csv --out data/nba_event_training_features_v4.csv",
    "pipeline:nba:run": "bash scripts/run_nba_pipeline.sh",
    "pipeline:nba:scrape-import-remaining": "bash scripts/scrape_ingest_remaining_nba_seasons.sh",
    "db:backup": "bash scripts/backup_local_db.sh",
    "probe:oddsharvester": "python3 scripts/probe_oddsharvester_schema.py",
    "ml:nba:baseline": "node scripts/ml_baseline_eval.js --input data/nba_training_multiseason_80_20.csv --out data/nba_baseline_metrics.json",
    "ml:nba:feature-model": "node scripts/ml_event_feature_model.js --input data/nba_event_training_features.csv --out data/nba_feature_model_metrics.json --bootstrap-samples 1000 --rolling-windows 6",
    "ml:nba:feature-sweep": "node scripts/run_feature_model_sweep.js",
    "ml:nba:feature-sweep:v2": "node scripts/run_feature_model_sweep_v2.js",
    "ml:nba:feature-sweep:v3": "node scripts/run_feature_model_sweep_v3.js",
    "ml:nba:feature-model:v4": "node scripts/ml_event_feature_model_v4.js --input data/nba_event_training_features_v4.csv --out data/nba_feature_model_v4_metrics.json --track a --bootstrap-samples 1000 --rolling-windows 8",
    "ml:nba:feature-sweep:v4": "node scripts/run_feature_model_sweep_v4.js --input data/nba_event_training_features_v4.csv --bootstrap-samples 600 --rolling-windows 8",
    "ml:nba:paper-pnl:v4": "node scripts/backtest_paper_pnl_v4.js --input data/nba_event_training_features_v4.csv --train-start 2021-10-01 --train-end 2024-06-30 --test-start 2024-10-01 --test-end 2025-06-30 --selection-mode edge --edge-min 0.015 --out data/reports/v4_paper_backtest_2024_2025.json --predictions-out data/reports/v4_paper_backtest_2024_2025_predictions.csv",
    "ml:nba:paper-pnl:v4:top-pick": "node scripts/backtest_paper_pnl_v4.js --input data/nba_event_training_features_v4.csv --train-start 2021-10-01 --train-end 2024-06-30 --test-start 2024-10-01 --test-end 2025-06-30 --selection-mode top_pick --max-bets-per-event 1 --out data/reports/v4_paper_backtest_2024_2025_top_pick.json --predictions-out data/reports/v4_paper_backtest_2024_2025_top_pick_predictions.csv",
    "ml:nba:model-vs-coin:v4": "node scripts/compare_model_vs_coin_v4.js --input data/nba_event_training_features_v4.csv --train-start 2021-10-01 --train-end 2024-06-30 --test-start 2024-10-01 --test-end 2025-06-30 --out data/reports/v4_model_vs_coin_2024_2025.json --model-edge-min 0 --coin-bet-prob 1 --bankroll 10000 --flat-stake 100 --seed 42",
    "ml:nba:model-vs-coin:mc:v4": "node scripts/model_vs_coin_monte_carlo_v4.js --input data/nba_event_training_features_v4.csv --train-start 2021-10-01 --train-end 2024-06-30 --test-start 2024-10-01 --test-end 2025-06-30 --model-edge-min -0.02 --coin-bet-prob 1 --coin-follows-model --bankroll 10000 --flat-stake 100 --seeds 200 --start-seed 1 --out data/reports/v4_model_vs_coin_monte_carlo_2024_2025.json",
    "ml:nba:walk-forward-pnl:v4": "node scripts/walk_forward_pnl_v4.js --input data/nba_event_training_features_v4.csv --out data/reports/v4_walk_forward_pnl_report.json --features implied_logit --edge-min -0.02 --bankroll 10000 --flat-stake 100 --max-stake-pct 0.03 --slippage-bps 0 --min-train-seasons 2 --coin-seeds 200 --bootstrap-samples 1000",
    "ml:nba:confidence-policy:v4": "node scripts/backtest_confidence_policy_v4.js --input data/nba_event_training_features_v4.csv --train-start 2021-10-01 --train-end 2024-06-30 --test-start 2024-10-01 --test-end 2025-06-30 --out data/reports/v4_confidence_policy_backtest_2024_2025.json --features implied_logit --slippage-bps 25 --bankroll 10000 --flat-stake 100",
    "dataset:nba:integrity:v4": "node scripts/validate_event_dataset_integrity_v4.js --input data/nba_event_training_features_v4.csv --out data/reports/v4_dataset_integrity_report.json",
    "ml:nba:governance:v4": "node scripts/run_model_governance_v4.js --input data/nba_event_training_features_v4.csv --out-dir data/reports/governance_v4 --min-wf-roi-mean 0 --min-wf-beat-coin-mean 0.9 --min-conf-ab-roi 0 --min-conf-ab-bets 20",
    "ml:nba:policy:publish:v4": "node scripts/publish_provisional_policy_v4.js --governance-dir data/reports/governance_v4 --out data/reports/v4_provisional_policy_state.json --policy A_B --valid-days 30",
    "ml:nba:clv:v4": "node scripts/validate_clv_v4.js --picks-json data/reports/v4_confidence_policy_backtest_2024_2025.json --out data/reports/v4_clv_validation_report.json",
    "ml:nba:runtime-enforce:v4": "node scripts/enforce_runtime_policy_v4.js --provisional-state data/reports/v4_provisional_policy_state.json --governance-dir data/reports/governance_v4 --out data/reports/v4_runtime_policy_state.json --fallback-policy A_only --min-conf-ab-bets 20",
    "ml:nba:coverage:v4": "node scripts/run_extended_coverage_v4.js --inputs data/nba_event_training_features_v4.csv --out data/reports/v4_extended_coverage_report.json --edge-min -0.02 --slippage-bps 25 --coin-seeds 200",
    "ml:nba:feature-rnd:v4": "node scripts/run_feature_rnd_loop_v4.js --input data/nba_event_training_features_v4.csv --out data/reports/v4_feature_rnd_loop_report.json --edge-min -0.02 --slippage-bps 25 --coin-seeds 200",
    "ml:nba:execution-quality:v4": "node scripts/simulate_execution_quality_v4.js --confidence-report data/reports/v4_confidence_policy_backtest_2024_2025.json --dataset data/nba_event_training_features_v4.csv --out data/reports/v4_execution_quality_simulation.json --policy A_B --min-books 2 --min-minutes-to-start 5 --max-minutes-to-start 180 --fill-prob-base 0.85 --fill-prob-books-weight 0.10 --fill-prob-latency-penalty 0.15 --fill-seed 42",
    "ml:nba:gate": "node scripts/ml_acceptance_gate.js --input data/nba_baseline_metrics_multiseason.json --logloss-ci-upper-max 0 --brier-ci-upper-max 0.0001 --brier-p-better-min 0.97",
    "ingest:nba:diagnose": "node src/ingest/jobs/diagnoseNbaCoverage.js",
    "ingest:nba:gate": "node src/ingest/jobs/qaNbaSummary.js --min-usable-rows 2500",
    "ingest:nba:gate:raw": "node src/ingest/jobs/checkNbaDataGate.js --min-usable-rows 2500"
  },
  "dependencies": {
    "@supabase/supabase-js": "^2.57.4",
    "dotenv": "^17.2.3",
    "express": "^4.21.2",
    "pg": "^8.13.3"
  }
}
